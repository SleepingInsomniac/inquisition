<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="utf-8"/>
	<title>Inquisition Test</title>
	<meta name="author" content="Alex Cilnk"/>
	<meta name="description" content="Inquisition"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<link rel="icon" href="/favicon.ico"/>
	<script src="inquisition.js" type="text/javascript" charset="utf-8"></script>

</head>
<body>
	<h1>Iquisition</h1>
	<form onsubmit="testRequest(document.getElementById('name').value); return false;">
		<input name="name" id="name" placeholder="Your Name" type="text"/>
		<input type="submit" value="Say Hello"/>
	</form>
	<div id="out"></div>
	
	<script type="text/javascript" id="">
				
		var server = new Lx.Server({
			path: "action/",
			indicator: {
				begin: function()  { console.log('starting ajax indicator!'); },
				finish: function() { console.log('stopping ajax indicator!'); }
			}
			// etc...
		});
		
		function testRequest(name) {
			// send a get request.
			server.get({
				method: 'test',
				params: {
					name: name
				},
				onResponse: function(r) {
					var p = document.createElement('p');
					p.innerHTML = r.greeting;
					document.getElementById('out').appendChild(p);
				}
			});
		}
		
	</script>
	
</body>
</html>